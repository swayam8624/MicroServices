package edu.demo.saga.controller; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.RestController; @RestController public class SagaController { @PostMapping("/place") public String place(@RequestParam double amount){ System.out.println("Reserve OK"); if(amount > 100){ System.out.println("Payment failed, compensating: release reservation"); return "FAILED_COMPENSATED"; } System.out.println("Payment OK, commit"); return "COMPLETED"; } }
